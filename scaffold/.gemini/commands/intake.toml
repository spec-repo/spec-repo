description = "RFP 또는 참고 문서를 분석하고 요구사항정의서 초안을 작성합니다"

prompt = """
{{args}} 에 지정된 파일을 처리한다. 인자가 없으면 사용법을 안내한다.

**사용법**: `/intake <파일경로>`
예) `/intake ./rfp.pdf`, `/intake 00-rfp/견적요청서.md`

---

다음 순서로 진행한다:

1. **파일을 `00-rfp/` 에 복사**한다 (이미 있으면 덮어쓰기)

2. **파일을 읽어 분석**한다
   - PDF 읽기 규칙 (반드시 이 순서로):
     1. `00-rfp/<파일명>.txt` 가 이미 있으면 그 파일을 Read() 한다
     2. 없으면 Read(`00-rfp/<파일명>.pdf`) 를 시도한다
     3. Read() 가 실패하거나 파일이 너무 크면 **즉시, 확인 없이** 아래를 실행한다:
        ```bash
        ./scripts/extract-pdf.sh 00-rfp/<파일명>.pdf
        ```
        생성된 `.txt` 파일을 Read() 한다
   - 기능 요구사항 목록 파악
   - 비기능 요구사항 파악 (성능, 보안, 가용성)
   - 불명확한 부분은 `[NEEDS CLARIFICATION: ...]` 으로 표시

3. **`references/요구사항정의서.md` 를 생성**한다
   - 파일이 없으면 `templates/요구사항정의서.md` 를 복사해서 생성
   - 분석 내용으로 템플릿을 채운다
   - 요구사항 출처(RFP 페이지/섹션)를 명시한다

4. **사람에게 검토를 요청**한다
   - 작성한 내용을 요약해서 보여준다
   - 수정이 필요하면 반영 후 다시 검토 요청
   - 승인 시 `/review 요구사항정의서` 실행 안내
"""
